{#
Displays information for a particular harvest job, including:

  * counts for added, updated, deleted or errored datasets
  * table with general details
  * table with a summary of the most common errors on this job

job        - dictized harvest job object

Example:

  {% snippet 'snippets/job_details.html', job=job %}

#}

{% set stats = job.stats %}

<h3 class="heading">{{ _('Details') }} {{ job.task_type }}</h3>
<table class="table table-striped table-bordered table-condensed">
  <colgroup>
    <col width="35">
    <col width="65">
  </colgroup>
  <tr>
    <th>{{ _('Id') }}</th>
    <td>{{ job.id }}</td>
  </tr>
  <tr>
    <th>{{ _('Action') }}</th>
    <td>{{ job.value.job_command }}</td>
  </tr>
  <tr>
    <th>{{ _('Last Updated') }}</th>
    <td>
        <span class="automatic-local-datetime" data-datetime="{{ h.render_datetime(job.last_updated, date_format='%Y-%m-%dT%H:%M:%S%z') }}">
            {{ h.render_datetime(job.last_updated, with_hours=True) }}
        </span>
    </td>
  </tr>
  <tr>
    <th>{{ _('Status') }}</th>
    <td>{{ _(job.state) }}</td>
  </tr>
  {% if job.state == 'error' %}
    <tr>
    <th>{{ _('Error') }}</th>
    <td>{{ _(job.error) }}</td>
  </tr>
  {% endif %}
</table>
